;Exercise 39. Good programmers ensure that an image such as CAR can be enlarged or reduced via a single change to a constant definition.Good programmers establish a single point of control for all aspects of their programs, not just the graphical constants. Several chapters deal with this issue. We started the development of our car image with a single plain definition:
;
;(define WHEEL-RADIUS 5)
;
;The definition of WHEEL-DISTANCE is based on the wheelâ€™s radius. Hence, changing WHEEL-RADIUS from 5 to 10 doubles the size of the car image. This kind of program organization is dubbed single point of control, and good design employs this idea as much as possible.
;Develop your favorite image of an automobile so that WHEEL-RADIUS remains the single point of control. 

(define WHEEL-RADIUS 5)
(define WHEEL-DISTANCE
  (* WHEEL-RADIUS 4))
(define WHEEL
  (circle (* 2 WHEEL-RADIUS) "solid" "black"))
(define SPACE
  (rectangle WHEEL-DISTANCE WHEEL-RADIUS "solid" "white"))
(define BOTH-WHEELS
  (beside WHEEL SPACE WHEEL))
(define CAR-LENGTH
  (+ WHEEL-DISTANCE
    (* 5 WHEEL-RADIUS)))
(define CAR-HEIGHT
  (* WHEEL-RADIUS 3))


(define CAR
  (above
    (rectangle CAR-LENGTH CAR-HEIGHT "solid" "red")
      (underlay/offset (rectangle (* 2 CAR-LENGTH) CAR-HEIGHT "solid" "red") 0 (* .5 CAR-HEIGHT) BOTH-WHEELS)
  )
)

; ===

; Exercise 40. Formulate the examples as BSL tests, that is, using the check-expect form. Introduce a mistake. Re-run the tests.

; WorldState -> WorldState 
; moves the car by 3 pixels for every clock tick
; examples: 
;   given: 20, expect 23
(check-expect (ws 20) 23)
;   given: 78, expect 81
(check-expect (ws 78) 81)
(define (tock ws)
  (+ ws 3))

; Successful result:
; Both tests passed!
; >

; Error Result (+ ws 4):
; Ran 2 tests.
;0 tests passed.
;No signature violations.
;
;Check failures:
;	Actual value 24 differs from 23, the expected value.
;at line 5, column 0 
;	Actual value 82 differs from 81, the expected value.
;at line 7, column 0 


